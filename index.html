<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1,viewport-fit=cover" name="viewport"/>
<title>CyberDoom: Guardia de Datos (Chile)</title>
<link href="styles.css" rel="stylesheet"/>
<link href="manifest.webmanifest" rel="manifest"/><meta content="#0b0f17" name="theme-color"/><link href="assets/icons/favicon-64.png" rel="icon" type="image/png"/><link href="assets/icons/icon-192.png" rel="apple-touch-icon"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/></head>
<body>
<div id="app">
<header class="topbar">
<div class="brand">
<span class="logo">ğŸ›¡ï¸</span>
<div class="brand-text">
<div class="title">CyberDoom</div>
<div class="subtitle">Guardia de Datos â€” Empresa chilena (ficciÃ³n)</div>
</div>
</div>
<div class="top-actions"><button class="ghost" id="btnFullscreen">â›¶</button>
<button class="ghost" id="btnHelp">Controles</button>
<button class="ghost" id="btnSettings">Ajustes</button>
<button class="ghost hidden" id="btnReload">Actualizar</button></div>
</header>
<main class="main">
<div class="stage">
<canvas aria-label="Juego" height="540" id="game" width="960"></canvas>
<!-- HUD -->
<div aria-live="polite" class="hud hidden" id="hud" role="status">
<div class="hud-left">
<div class="hud-row"><span class="tag">Rol</span> <span id="hudRole">â€”</span></div>
<div class="hud-row"><span class="tag">Nivel</span> <span id="hudLevel">â€”</span></div>
<div class="hud-row"><span class="tag">Objetivo</span> <span id="hudObjective">â€”</span></div>
</div>
<div class="hud-center">
<div aria-hidden="true" class="crosshair"></div>
<div class="toast hidden" id="toast"></div>
</div>
<div class="hud-right">
<div class="bars">
<div class="bar">
<div class="bar-label">Salud</div>
<div class="bar-track"><div class="bar-fill" id="barHealth" style="width:100%"></div></div>
</div>
<div class="bar">
<div class="bar-label">EnergÃ­a</div>
<div class="bar-track"><div class="bar-fill" id="barEnergy" style="width:100%"></div></div>
</div>
</div>
<div class="hud-row small">
<span class="tag">Puntaje</span> <span id="hudScore">0</span>
</div>
</div>
</div>
<!-- Overlay: MenÃº principal -->
<div class="overlay" id="menu">
<div class="panel">
<h1>CyberDoom: Guardia de Datos</h1>
<p class="muted">
              Un juego <strong>defensivo</strong> de ficciÃ³n: proteges los datos de una empresa chilena frente a sabotajes simulados.
              No enseÃ±a tÃ©cnicas reales de intrusiÃ³n; el foco es <strong>respuesta a incidentes</strong> y <strong>seguridad</strong>.
            </p>
<div class="grid">
<label class="row"><span>Nombre del jugador</span><input id="playerName" type="text" maxlength="20" placeholder="Ej: MatÃ­as" /></label>
<div>
<h2>Elige tu rol</h2>
<div class="choices" id="roleChoices"></div>
</div>
<div>
<h2>Elige dificultad</h2>
<div class="choices" id="diffChoices"></div>
</div>
</div>
<div class="actions">
<button class="primary" id="btnPlay">Iniciar misiÃ³n</button>
<button class="ghost" id="btnLeaderboard">Tabla de puntajes</button>
<button class="ghost hidden" id="btnInstall">Instalar</button></div>
<div class="hint">
              Consejo: haz clic en el juego para activar el <em>mouse look</em> (Pointer Lock).
            </div><p class="muted small hidden" id="iosInstallHint">iPhone/iPad: para instalar, abre el menÃº de Safari y toca â€œAgregar a pantalla de inicioâ€.</p>
</div>
</div>
<!-- Overlay: Briefing -->
<div class="overlay hidden" id="briefing">
<div class="panel">
<h2 id="briefingTitle">Briefing</h2>
<p class="muted" id="briefingText"></p>
<div class="actions">
<button class="primary" id="btnBriefingStart">Entrar</button>
<button class="ghost" id="btnBriefingBack">Volver</button>
</div>
</div>
</div>
<!-- Overlay: Pausa -->
<div class="overlay hidden" id="pause">
<div class="panel">
<h2>Pausa</h2>
<p class="muted">Puedes continuar o abandonar la misiÃ³n.</p>
<div class="actions">
<button class="primary" id="btnResume">Continuar</button>
<button class="ghost" id="btnQuit">Salir al menÃº</button>
</div>
</div>
</div>
<!-- Overlay: Fin -->
<div class="overlay hidden" id="gameover">
<div class="panel">
<h2 id="gameoverTitle">Resultado</h2>
<p class="muted" id="gameoverText"></p>
<div class="scorebox">
<div><span class="tag">Puntaje</span> <span id="finalScore">0</span></div>
<div><span class="tag">Tiempo</span> <span id="finalTime">0:00</span></div>
<div><span class="tag">Amenazas neutralizadas</span> <span id="finalKills">0</span></div>
</div>
<div class="actions">
<button class="primary" id="btnNext">Siguiente nivel</button>
<button class="ghost" id="btnRetry">Reintentar</button>
<button class="primary hidden" id="btnCertificate">ğŸ“„ Descargar certificado</button>
<button class="ghost" id="btnBackToMenu">MenÃº</button>
</div>
</div>
</div>
<!-- Modal: Ayuda -->
<div aria-label="Controles" aria-modal="true" class="modal hidden" id="modalHelp" role="dialog">
<div class="modal-card">
<div class="modal-head">
<div class="modal-title">Controles</div>
<button class="ghost" id="btnCloseHelp">Cerrar</button>
</div>
<div class="modal-body">
<ul>
<li><kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd> mover</li>
<li><kbd>Shift</kbd> correr (consume energÃ­a)</li>
<li><kbd>Mouse</kbd> mirar (clic en el canvas para activar)</li>
<li><kbd>Click</kbd> o <kbd>Espacio</kbd> usar herramienta (neutralizar amenaza)</li>
<li><kbd>E</kbd> interactuar / recoger</li>
<li><kbd>Tab</kbd> mapa</li>
<li><kbd>Esc</kbd> pausa</li>
<li><strong>MÃ³vil:</strong> joystick izquierdo para mover, desliza en el lado derecho para mirar, y usa los botones ğŸ› ï¸ / E / â‡§ / ğŸ—ºï¸ / â¸</li>
</ul>
<p class="muted">
                Objetivo tÃ­pico: recolectar un <strong>token</strong> (respaldo / llave) y llegar al <strong>Servidor de Datos</strong>.
              </p>
</div>
</div>
</div>
<!-- Modal: Ajustes -->
<div aria-label="Ajustes" aria-modal="true" class="modal hidden" id="modalSettings" role="dialog">
<div class="modal-card">
<div class="modal-head">
<div class="modal-title">Ajustes</div>
<button class="ghost" id="btnCloseSettings">Cerrar</button>
</div>
<div class="modal-body">
<label class="row">
<span>Sensibilidad del mouse</span>
<input id="optSensitivity" max="3" min="0.5" step="0.1" type="range" value="1.6"/>
</label>
<label class="row">
<span>Volumen (placeholder)</span>
<input id="optVolume" max="1" min="0" step="0.05" type="range" value="0.7"/>
</label>
<label class="row">
<span>Mostrar minimapa</span>
<input checked="" id="optMinimap" type="checkbox"/>
</label>
<label class="row">
<span>Reducir movimiento de cÃ¡mara</span>
<input id="optReducedMotion" type="checkbox"/>
</label>
<p class="muted small">
                Nota: no se usan cookies de terceros; los ajustes se guardan localmente (LocalStorage).
              </p>
</div>
</div>
</div>
<!-- Overlay: Leaderboard -->
<div class="overlay hidden" id="leaderboard">
<div class="panel">
<h2>Tabla de puntajes (local)</h2>
<p class="muted">
              Por defecto se guarda en tu navegador. Opcionalmente puedes conectar un backend (ver README) para ranking global.
            </p>
<div class="leaderboard" id="leaderboardList"></div>
<div class="actions">
<button class="ghost" id="btnClearScores">Borrar puntajes locales</button>
<button class="primary" id="btnCloseLeaderboard">Cerrar</button>
</div>
</div>
</div>
<!-- Overlay: Mapa (Tab) -->
<div class="mapOverlay hidden" id="mapOverlay">
<canvas height="420" id="minimapFull" width="420"></canvas>
<div class="mapHint">Mapa â€” suelta <kbd>Tab</kbd> para cerrar</div>
</div>
<!-- Controles tÃ¡ctiles (mÃ³vil/tablet) -->
<div aria-label="Controles tÃ¡ctiles" class="touch-controls hidden" id="touchControls">
<div class="touch-left">
<div aria-label="Joystick de movimiento" class="joy" id="joy">
<div class="joy-base"></div>
<div class="joy-knob" id="joyKnob"></div>
</div>
<div class="touch-tip">Mover</div>
</div>
<div class="touch-right">
<div aria-label="Panel de mirada" class="lookpad" id="lookPad">
<div class="look-hint">Desliza para mirar</div>
</div>
<div aria-label="Botones tÃ¡ctiles" class="touch-buttons">
<button class="primary" id="btnTouchShoot" title="Herramienta">ğŸ› ï¸</button>
<button class="ghost" id="btnTouchInteract" title="Interactuar">E</button>
<button class="ghost" id="btnTouchRun" title="Correr">â‡§</button>
<button class="ghost" id="btnTouchMap" title="Mapa">ğŸ—ºï¸</button>
<button class="ghost" id="btnTouchFullscreen" title="Pantalla completa">â›¶</button><button class="ghost" id="btnTouchPause" title="Pausa">â¸</button>
</div>
</div>
</div>
</div>
<aside class="side">
<div class="card">
<h3>Historia</h3>
<p class="muted">
            Eres <strong>Valentina</strong>, encargada de seguridad de datos en <strong>AndesData S.A.</strong> (Santiago, Chile).
            Una serie de sabotajes internos y amenazas automatizadas buscan comprometer respaldos y servidores crÃ­ticos.
          </p>
</div>
<div class="card">
<h3>Consejos</h3>
<ul class="muted">
<li>MantÃ©n la energÃ­a para correr cuando una amenaza se acerque.</li>
<li>Recolecta tokens (respaldo/llave) para abrir el acceso al servidor.</li>
<li>Neutraliza amenazas desde lejos: la distancia aumenta la precisiÃ³n.</li>
</ul>
</div>
<div class="card">
<h3>ImplementaciÃ³n</h3>
<p class="muted small">
            Motor tipo â€œDoom clÃ¡sicoâ€ simplificado: raycasting 2.5D en Canvas, sprites y minimapa.
            CÃ³digo listo para desplegar como sitio estÃ¡tico.
          </p>
</div>
</aside>
</main>
<footer class="footer">
<span class="muted small">Â© CyberDoom (demo) â€” Desarrollado por VibecodingChile y MatÃ­as Rojas FaÃºndez.</span>
</footer>
</div>
<script src="src/main.js" type="module"></script>
</body>
</html>
